(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6716],{2442:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7216:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},211:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5589:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},1295:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2741:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},7972:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1891:function(e,t,r){Promise.resolve().then(r.bind(r,3392))},3392:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(7437),s=r(2265),a=r(4033),i=r(6210),l=r(575),o=r(2782),c=r(5005),u=r(5671),d=r(5453),f=r(1295),h=r(5589),m=r(7216),p=r(211),x=r(6782),v=r(1396),y=r.n(v);function b(e){let{onSwitchToRegister:t,redirectTo:r="/"}=e,[v,b]=(0,s.useState)({email:"",password:""}),[g,w]=(0,s.useState)(!1),[j,k]=(0,s.useState)({}),[N,S]=(0,s.useState)(!1),{login:C}=(0,i.a)(),Z=(0,a.useRouter)(),E=()=>{let e=(0,x.iu)(v);return e.isValid?(k({}),!0):(k((0,x._s)(e.errors)),!1)},R=async e=>{if(e.preventDefault(),E()){S(!0);try{await C(v.email,v.password),Z.push(r)}catch(e){}finally{S(!1)}}},M=(e,t)=>{b(r=>({...r,[e]:t})),j[e]&&k(t=>({...t,[e]:""}))};return(0,n.jsxs)(u.Zb,{className:"w-full max-w-md mx-auto",children:[(0,n.jsxs)(u.Ol,{className:"space-y-1",children:[(0,n.jsx)(u.ll,{className:"text-2xl font-bold text-center",children:"登入"}),(0,n.jsx)(u.SZ,{className:"text-center",children:"歡迎回到呼嚕寵物協尋"})]}),(0,n.jsxs)("form",{onSubmit:R,children:[(0,n.jsxs)(u.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"email",children:"電子郵件"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,n.jsx)(o.I,{id:"email",type:"email",placeholder:"請輸入您的電子郵件",value:v.email,onChange:e=>M("email",e.target.value),className:"pl-10 ".concat(j.email?"border-red-500":""),disabled:N})]}),j.email&&(0,n.jsx)("p",{className:"text-sm text-red-500",children:j.email})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"password",children:"密碼"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(h.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,n.jsx)(o.I,{id:"password",type:g?"text":"password",placeholder:"請輸入您的密碼",value:v.password,onChange:e=>M("password",e.target.value),className:"pl-10 pr-10 ".concat(j.password?"border-red-500":""),disabled:N}),(0,n.jsx)("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",disabled:N,children:g?(0,n.jsx)(m.Z,{className:"h-4 w-4"}):(0,n.jsx)(p.Z,{className:"h-4 w-4"})})]}),j.password&&(0,n.jsx)("p",{className:"text-sm text-red-500",children:j.password})]}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(y(),{href:"/auth/forgot-password",className:"text-sm text-primary hover:underline",children:"忘記密碼？"})})]}),(0,n.jsxs)(u.eW,{className:"flex flex-col space-y-4",children:[(0,n.jsx)(l.z,{type:"submit",className:"w-full",disabled:N,children:N?"登入中...":"登入"}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{}),(0,n.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["還沒有帳號？"," ",(0,n.jsx)("button",{type:"button",onClick:t,className:"text-primary hover:underline font-medium",disabled:N,children:"立即註冊"})]})]})]})]})]})}var g=r(6171),w=r(9497);function j(){let[e,t]=(0,s.useState)("login");return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-blue-50 p-4",children:(0,n.jsx)("div",{className:"w-full max-w-md",children:(0,n.jsxs)(w.mQ,{value:e,onValueChange:e=>t(e),className:"w-full",children:[(0,n.jsxs)(w.dr,{className:"grid w-full grid-cols-2",children:[(0,n.jsx)(w.SP,{value:"login",children:"登入"}),(0,n.jsx)(w.SP,{value:"register",children:"註冊"})]}),(0,n.jsx)(w.nU,{value:"login",className:"mt-6",children:(0,n.jsx)(b,{onSwitchToRegister:()=>t("register")})}),(0,n.jsx)(w.nU,{value:"register",className:"mt-6",children:(0,n.jsx)(g.B,{onSwitchToLogin:()=>t("login")})})]})})})}},9497:function(e,t,r){"use strict";r.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return l},nU:function(){return u}});var n=r(7437),s=r(2265),a=r(4522),i=r(2169);let l=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,n.jsx)(a.fC,{ref:t,className:(0,i.cn)("",r),...l,children:s})});l.displayName=a.fC.displayName;let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...s})});o.displayName=a.aV.displayName;let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...s})});c.displayName=a.xz.displayName;let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});u.displayName=a.VY.displayName},4033:function(e,t,r){e.exports=r(5313)},6062:function(e,t,r){"use strict";r.d(t,{fC:function(){return w},z$:function(){return k}});var n=r(2265),s=r(2210),a=r(6989),i=r(5744),l=r(3763),o=r(5184),c=r(4977),u=r(5606),d=r(9381),f=r(7437),h="Checkbox",[m,p]=(0,a.b)(h),[x,v]=m(h);function y(e){let{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:u,required:d,value:m="on",internal_do_not_use_render:p}=e,[v,y]=(0,l.T)({prop:r,defaultProp:a??!1,onChange:u,caller:h}),[b,g]=n.useState(null),[w,j]=n.useState(null),k=n.useRef(!1),N=!b||!!o||!!b.closest("form"),S={checked:v,disabled:i,setChecked:y,control:b,setControl:g,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:k,required:d,defaultChecked:!C(a)&&a,isFormControl:N,bubbleInput:w,setBubbleInput:j};return(0,f.jsx)(x,{scope:t,...S,children:"function"==typeof p?p(S):s})}var b="CheckboxTrigger",g=n.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...a},l)=>{let{control:o,value:c,disabled:u,checked:h,required:m,setControl:p,setChecked:x,hasConsumerStoppedPropagationRef:y,isFormControl:g,bubbleInput:w}=v(b,e),j=(0,s.e)(l,p),k=n.useRef(h);return n.useEffect(()=>{let e=o?.form;if(e){let t=()=>x(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[o,x]),(0,f.jsx)(d.WV.button,{type:"button",role:"checkbox","aria-checked":C(h)?"mixed":h,"aria-required":m,"data-state":Z(h),"data-disabled":u?"":void 0,disabled:u,value:c,...a,ref:j,onKeyDown:(0,i.M)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.M)(r,e=>{x(e=>!!C(e)||!e),w&&g&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})});g.displayName=b;var w=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:o,onCheckedChange:c,form:u,...d}=e;return(0,f.jsx)(y,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:c,name:n,form:u,value:o,internal_do_not_use_render:({isFormControl:e})=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g,{...d,ref:t,__scopeCheckbox:r}),e&&(0,f.jsx)(S,{__scopeCheckbox:r})]})})});w.displayName=h;var j="CheckboxIndicator",k=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:n,...s}=e,a=v(j,r);return(0,f.jsx)(u.z,{present:n||C(a.checked)||!0===a.checked,children:(0,f.jsx)(d.WV.span,{"data-state":Z(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});k.displayName=j;var N="CheckboxBubbleInput",S=n.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:a,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:u,required:h,disabled:m,name:p,value:x,form:y,bubbleInput:b,setBubbleInput:g}=v(N,e),w=(0,s.e)(r,g),j=(0,o.D)(l),k=(0,c.t)(a);n.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(j!==l&&e){let r=new Event("click",{bubbles:t});b.indeterminate=C(l),e.call(b,!C(l)&&l),b.dispatchEvent(r)}},[b,j,l,i]);let S=n.useRef(!C(l)&&l);return(0,f.jsx)(d.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??S.current,required:h,disabled:m,name:p,value:x,form:y,...t,tabIndex:-1,ref:w,style:{...t.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function Z(e){return C(e)?"indeterminate":e?"checked":"unchecked"}S.displayName=N},5400:function(e,t,r){"use strict";r.d(t,{gm:function(){return a}});var n=r(2265);r(7437);var s=n.createContext(void 0);function a(e){let t=n.useContext(s);return e||t||"ltr"}},966:function(e,t,r){"use strict";r.d(t,{M:function(){return o}});var n,s=r(2265),a=r(5655),i=(n||(n=r.t(s,2)))[" useId ".trim().toString()]||(()=>void 0),l=0;function o(e){let[t,r]=s.useState(i());return(0,a.b)(()=>{e||r(e=>e??String(l++))},[e]),e||(t?`radix-${t}`:"")}},6743:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var n=r(2265),s=r(9381),a=r(7437),i=n.forwardRef((e,t)=>(0,a.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},5184:function(e,t,r){"use strict";r.d(t,{D:function(){return s}});var n=r(2265);function s(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},4977:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});var n=r(2265),s=r(5655);function a(e){let[t,r]=n.useState(void 0);return(0,s.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,s;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,s=t.blockSize}else n=e.offsetWidth,s=e.offsetHeight;r({width:n,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},3771:function(e,t,r){"use strict";r.d(t,{o:function(){return s}});class n extends Error{}function s(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let s=!0===t.header?0:1,a=e.split(".")[s];if("string"!=typeof a)throw new n(`Invalid token specified: missing part #${s+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(a)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${s+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${s+1} (${e.message})`)}}n.prototype.name="InvalidTokenError"}},function(e){e.O(0,[9061,6448,9044,7604,4046,6171,2971,4938,1744],function(){return e(e.s=1891)}),_N_E=e.O()}]);