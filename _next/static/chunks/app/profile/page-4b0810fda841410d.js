(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{8132:function(e,s,t){Promise.resolve().then(t.bind(t,1982))},1982:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return R}});var a=t(7437),r=t(6210),n=t(2265),l=t(575),i=t(2782),d=t(5005),c=t(5671),o=t(5808),m=t(5453),u=t(3277),f=t(6862),x=t(6264),h=t(4035),p=t(7972),g=t(2741),j=t(6245),w=t(1295),N=t(8203),v=t(8793),b=t(6782);function y(){let{user:e,refreshUser:s}=(0,r.a)(),{toast:t}=(0,f.pm)(),y=(0,n.useRef)(null),[P,Z]=(0,n.useState)({name:(null==e?void 0:e.name)||"",phone:(null==e?void 0:e.phone)||""}),[C,k]=(0,n.useState)({}),[S,_]=(0,n.useState)(!1),[z,R]=(0,n.useState)(!1);if(!e)return(0,a.jsx)(c.Zb,{className:"w-full max-w-2xl mx-auto",children:(0,a.jsx)(c.aY,{className:"flex items-center justify-center py-8",children:(0,a.jsx)(x.Z,{className:"h-8 w-8 animate-spin"})})});let Y=()=>{let e={};return P.name.trim()?b.Y_.name.test(P.name.trim())||(e.name=b.Y_.name.message):e.name="請輸入姓名",P.phone&&!b.Y_.phone.test(P.phone)&&(e.phone=b.Y_.phone.message),k(e),0===Object.keys(e).length},I=async e=>{if(e.preventDefault(),Y()){_(!0);try{let e=P.phone.trim();await v.O.updateProfile({name:P.name.trim(),...e?{phone:e}:{}}),await s(),t({title:"更新成功",description:"個人資料已成功更新"})}catch(e){t({title:"更新失敗",description:e.message||"更新個人資料時發生錯誤",variant:"destructive"})}finally{_(!1)}}},V=(e,s)=>{Z(t=>({...t,[e]:s})),C[e]&&k(s=>({...s,[e]:""}))},E=async e=>{var a;let r=null===(a=e.target.files)||void 0===a?void 0:a[0];if(r){if(r.size>5242880){t({title:"檔案過大",description:"頭像檔案大小不能超過 5MB",variant:"destructive"});return}if(!r.type.startsWith("image/")){t({title:"檔案格式錯誤",description:"請選擇圖片檔案",variant:"destructive"});return}R(!0);try{await v.O.uploadAvatar(r),await s(),t({title:"上傳成功",description:"頭像已成功更新"})}catch(e){t({title:"上傳失敗",description:e.message||"上傳頭像時發生錯誤",variant:"destructive"})}finally{R(!1)}}};return(0,a.jsxs)("div",{className:"w-full max-w-2xl mx-auto space-y-6",children:[(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsx)(c.ll,{children:"個人資料"}),(0,a.jsx)(c.SZ,{children:"管理您的個人資訊和帳號設定"})]}),(0,a.jsxs)(c.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(o.qE,{className:"h-20 w-20",children:[(0,a.jsx)(o.F$,{src:e.avatar,alt:e.name}),(0,a.jsx)(o.Q5,{className:"text-lg",children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),(0,a.jsx)(l.z,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",onClick:()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.click()},disabled:z,children:z?(0,a.jsx)(x.Z,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(h.Z,{className:"h-4 w-4"})}),(0,a.jsx)("input",{ref:y,type:"file",accept:"image/*",onChange:E,className:"hidden"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u.C,{variant:e.isEmailVerified?"default":"secondary",children:e.isEmailVerified?"已驗證":"未驗證"}),"admin"===e.role&&(0,a.jsx)(u.C,{variant:"outline",children:"管理員"})]})]})]}),(0,a.jsx)(m.Z,{}),(0,a.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"name",children:"姓名 *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(i.I,{id:"name",type:"text",placeholder:"請輸入您的姓名",value:P.name,onChange:e=>V("name",e.target.value),className:"pl-10 ".concat(C.name?"border-red-500":""),disabled:S})]}),C.name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:C.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"phone",children:"手機號碼"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(i.I,{id:"phone",type:"tel",placeholder:"請輸入您的手機號碼",value:P.phone,onChange:e=>V("phone",e.target.value),className:"pl-10 ".concat(C.phone?"border-red-500":""),disabled:S})]}),C.phone&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:C.phone})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(l.z,{type:"submit",disabled:S,children:S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"更新中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"儲存變更"]})})})]})]})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsx)(c.ll,{children:"帳號資訊"}),(0,a.jsx)(c.SZ,{children:"您的帳號基本資訊"})]}),(0,a.jsxs)(c.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{className:"text-sm font-medium text-muted-foreground",children:"電子郵件"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:e.email}),(0,a.jsx)(u.C,{variant:e.isEmailVerified?"default":"secondary",children:e.isEmailVerified?"已驗證":"未驗證"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{className:"text-sm font-medium text-muted-foreground",children:"註冊日期"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm",children:new Date(e.createdAt).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),!e.isEmailVerified&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 text-yellow-600"}),(0,a.jsx)("span",{className:"text-sm text-yellow-800",children:"您的電子郵件尚未驗證，請檢查您的信箱並點擊驗證連結。"})]})})]})]})]})}var P=t(5589),Z=t(7216),C=t(211);function k(){let{user:e}=(0,r.a)(),{toast:s}=(0,f.pm)(),[t,o]=(0,n.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[m,u]=(0,n.useState)({current:!1,new:!1,confirm:!1}),[h,p]=(0,n.useState)({}),[g,w]=(0,n.useState)(!1);if(!e)return(0,a.jsx)(c.Zb,{className:"w-full max-w-md mx-auto",children:(0,a.jsx)(c.aY,{className:"flex items-center justify-center py-8",children:(0,a.jsx)(x.Z,{className:"h-8 w-8 animate-spin"})})});let N=()=>{let e={};return t.currentPassword||(e.currentPassword="請輸入當前密碼"),t.newPassword?b.Y_.password.test(t.newPassword)||(e.newPassword=b.Y_.password.message):e.newPassword="請輸入新密碼",t.confirmPassword?t.newPassword!==t.confirmPassword&&(e.confirmPassword="新密碼確認不一致"):e.confirmPassword="請確認新密碼",t.currentPassword&&t.newPassword&&t.currentPassword===t.newPassword&&(e.newPassword="新密碼不能與當前密碼相同"),p(e),0===Object.keys(e).length},y=async e=>{if(e.preventDefault(),N()){w(!0);try{await v.O.changePassword(t.currentPassword,t.newPassword),o({currentPassword:"",newPassword:"",confirmPassword:""}),s({title:"密碼更新成功",description:"您的密碼已成功更新"})}catch(e){s({title:"密碼更新失敗",description:e.message||"更新密碼時發生錯誤",variant:"destructive"})}finally{w(!1)}}},k=(e,s)=>{o(t=>({...t,[e]:s})),h[e]&&p(s=>({...s,[e]:""}))},S=e=>{u(s=>({...s,[e]:!s[e]}))};return(0,a.jsxs)(c.Zb,{className:"w-full max-w-md mx-auto",children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsx)(c.ll,{children:"更改密碼"}),(0,a.jsx)(c.SZ,{children:"為了您的帳號安全，請定期更新密碼"})]}),(0,a.jsx)("form",{onSubmit:y,children:(0,a.jsxs)(c.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"currentPassword",children:"當前密碼"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(P.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(i.I,{id:"currentPassword",type:m.current?"text":"password",placeholder:"請輸入當前密碼",value:t.currentPassword,onChange:e=>k("currentPassword",e.target.value),className:"pl-10 pr-10 ".concat(h.currentPassword?"border-red-500":""),disabled:g}),(0,a.jsx)("button",{type:"button",onClick:()=>S("current"),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",disabled:g,children:m.current?(0,a.jsx)(Z.Z,{className:"h-4 w-4"}):(0,a.jsx)(C.Z,{className:"h-4 w-4"})})]}),h.currentPassword&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:h.currentPassword})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"newPassword",children:"新密碼"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(P.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(i.I,{id:"newPassword",type:m.new?"text":"password",placeholder:"請輸入新密碼（至少 8 個字符）",value:t.newPassword,onChange:e=>k("newPassword",e.target.value),className:"pl-10 pr-10 ".concat(h.newPassword?"border-red-500":""),disabled:g}),(0,a.jsx)("button",{type:"button",onClick:()=>S("new"),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",disabled:g,children:m.new?(0,a.jsx)(Z.Z,{className:"h-4 w-4"}):(0,a.jsx)(C.Z,{className:"h-4 w-4"})})]}),h.newPassword&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:h.newPassword}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"密碼必須包含至少一個小寫字母、一個大寫字母和一個數字"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"confirmPassword",children:"確認新密碼"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(P.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(i.I,{id:"confirmPassword",type:m.confirm?"text":"password",placeholder:"請再次輸入新密碼",value:t.confirmPassword,onChange:e=>k("confirmPassword",e.target.value),className:"pl-10 pr-10 ".concat(h.confirmPassword?"border-red-500":""),disabled:g}),(0,a.jsx)("button",{type:"button",onClick:()=>S("confirm"),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",disabled:g,children:m.confirm?(0,a.jsx)(Z.Z,{className:"h-4 w-4"}):(0,a.jsx)(C.Z,{className:"h-4 w-4"})})]}),h.confirmPassword&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:h.confirmPassword})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)(l.z,{type:"submit",className:"w-full",disabled:g,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"更新中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:"mr-2 h-4 w-4"}),"更新密碼"]})})}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,a.jsx)("p",{className:"font-medium",children:"密碼安全提示："}),(0,a.jsxs)("ul",{className:"text-xs space-y-1 ml-4",children:[(0,a.jsx)("li",{children:"• 使用至少 8 個字符"}),(0,a.jsx)("li",{children:"• 包含大小寫字母和數字"}),(0,a.jsx)("li",{children:"• 避免使用常見密碼"}),(0,a.jsx)("li",{children:"• 定期更新密碼"})]})]})]})})]})}var S=t(9497),_=t(4033),z=t(3067);function R(){let{user:e,isLoading:s}=(0,r.a)(),t=(0,_.useRouter)();return s?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(c.Zb,{className:"w-full max-w-md mx-auto",children:(0,a.jsx)(c.aY,{className:"flex items-center justify-center py-8",children:(0,a.jsx)(x.Z,{className:"h-8 w-8 animate-spin"})})})}):e?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)(l.z,{variant:"ghost",onClick:()=>t.back(),className:"mb-4",children:[(0,a.jsx)(z.Z,{className:"mr-2 h-4 w-4"}),"返回"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"個人設定"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"管理您的個人資料和帳號設定"})]})]}),(0,a.jsxs)(S.mQ,{defaultValue:"profile",className:"space-y-6",children:[(0,a.jsxs)(S.dr,{className:"grid w-full grid-cols-2 max-w-md",children:[(0,a.jsx)(S.SP,{value:"profile",children:"個人資料"}),(0,a.jsx)(S.SP,{value:"security",children:"安全設定"})]}),(0,a.jsx)(S.nU,{value:"profile",className:"space-y-6",children:(0,a.jsx)(y,{})}),(0,a.jsx)(S.nU,{value:"security",className:"space-y-6",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(k,{})})})]})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(c.Zb,{className:"w-full max-w-md mx-auto",children:(0,a.jsxs)(c.aY,{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"請先登入以查看個人資料"}),(0,a.jsx)(l.z,{onClick:()=>t.push("/auth/login"),children:"前往登入"})]})})})}},5808:function(e,s,t){"use strict";t.d(s,{F$:function(){return d},Q5:function(){return c},qE:function(){return i}});var a=t(7437),r=t(2265),n=t(1465),l=t(2169);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.fC,{ref:s,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});i.displayName=n.fC.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.Ee,{ref:s,className:(0,l.cn)("aspect-square h-full w-full",t),...r})});d.displayName=n.Ee.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.NY,{ref:s,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});c.displayName=n.NY.displayName},3277:function(e,s,t){"use strict";t.d(s,{C:function(){return i}});var a=t(7437);t(2265);var r=t(6061),n=t(2169);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:t}),s),...r})}},575:function(e,s,t){"use strict";t.d(s,{d:function(){return d},z:function(){return c}});var a=t(7437),r=t(2265),n=t(7256),l=t(6061),i=t(2169);let d=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:c=!1,...o}=e,m=c?n.g7:"button";return(0,a.jsx)(m,{className:(0,i.cn)(d({variant:r,size:l,className:t})),ref:s,...o})});c.displayName="Button"},5671:function(e,s,t){"use strict";t.d(s,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return o},eW:function(){return m},ll:function(){return d}});var a=t(7437),r=t(2265),n=t(2169);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},2782:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var a=t(7437),r=t(2265),n=t(2169);let l=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});l.displayName="Input"},5005:function(e,s,t){"use strict";t.d(s,{_:function(){return c}});var a=t(7437),r=t(2265),n=t(6743),l=t(6061),i=t(2169);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.f,{ref:s,className:(0,i.cn)(d(),t),...r})});c.displayName=n.f.displayName},5453:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(7437),r=t(2265),n=t(6823),l=t(2169);let i=r.forwardRef((e,s)=>{let{className:t,orientation:r="horizontal",decorative:i=!0,...d}=e;return(0,a.jsx)(n.f,{ref:s,decorative:i,orientation:r,className:(0,l.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...d})});i.displayName=n.f.displayName},9497:function(e,s,t){"use strict";t.d(s,{SP:function(){return c},dr:function(){return d},mQ:function(){return i},nU:function(){return o}});var a=t(7437),r=t(2265),n=t(4522),l=t(2169);let i=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsx)(n.fC,{ref:s,className:(0,l.cn)("",t),...i,children:r})});i.displayName=n.fC.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.aV,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});d.displayName=n.aV.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.xz,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});c.displayName=n.xz.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.VY,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=n.VY.displayName},6782:function(e,s,t){"use strict";t.d(s,{$s:function(){return o},Y_:function(){return u},_s:function(){return d},iu:function(){return c},oM:function(){return i},wm:function(){return m}});let a=e=>!!e&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),r=e=>{if(e.length<8)return!1;let s=/[A-Z]/.test(e),t=/[a-z]/.test(e),a=/[0-9]/.test(e),r=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e);return s&&t&&a&&r},n=e=>{if(!e||!/^[0-9\+\-\(\)\s]+$/.test(e))return!1;let s=e.replace(/\D/g,"");return s.length>=8&&s.length<15},l=e=>null!=e&&("string"!=typeof e||e.trim().length>0),i=e=>{let s=[];return l(e.name)?e.name.trim().length<2&&s.push({field:"name",message:"姓名至少需要2個字符"}):s.push({field:"name",message:"請輸入姓名"}),l(e.email)?a(e.email)||s.push({field:"email",message:"請輸入有效的電子郵件格式"}):s.push({field:"email",message:"請輸入電子郵件"}),l(e.password)?e.password.length<8&&s.push({field:"password",message:"密碼至少需要8個字符"}):s.push({field:"password",message:"請輸入密碼"}),e.phone&&e.phone.trim()&&!n(e.phone)&&s.push({field:"phone",message:"請輸入有效的手機號碼"}),{isValid:0===s.length,errors:s}},d=e=>{let s={};return e.forEach(e=>{s[e.field]=e.message}),s},c=e=>{let s=[];return l(e.email)?a(e.email)||s.push({field:"email",message:"請輸入有效的電子郵件格式"}):s.push({field:"email",message:"電子郵件為必填項目"}),l(e.password)||s.push({field:"password",message:"密碼為必填項目"}),{isValid:0===s.length,errors:s}},o=e=>{let s=[];return l(e.password)?r(e.password)||s.push({field:"password",message:"密碼至少需要8個字符，包含大小寫字母、數字和特殊字符"}):s.push({field:"password",message:"密碼為必填項目"}),l(e.confirmPassword)||s.push({field:"confirmPassword",message:"確認密碼為必填項目"}),{isValid:0===s.length,errors:s}},m=e=>{let s=[];return l(e.name)||s.push({field:"name",message:"寵物名稱為必填項目"}),l(e.type)||s.push({field:"type",message:"寵物類型為必填項目"}),l(e.gender)||s.push({field:"gender",message:"寵物性別為必填項目"}),l(e.size)||s.push({field:"size",message:"寵物體型為必填項目"}),l(e.status)||s.push({field:"status",message:"寵物狀態為必填項目"}),void 0!==e.age&&("number"!=typeof e.age||e.age<0)&&s.push({field:"age",message:"寵物年齡必須為正數"}),e.lastSeenLocation?l(e.lastSeenLocation.address)||s.push({field:"lastSeenLocation.address",message:"最後出現地點為必填項目"}):s.push({field:"lastSeenLocation",message:"最後出現地點為必填項目"}),e.contactInfo?(e.contactInfo.email&&!a(e.contactInfo.email)&&s.push({field:"contactInfo.email",message:"請輸入有效的電子郵件地址"}),e.contactInfo.phone&&!n(e.contactInfo.phone)&&s.push({field:"contactInfo.phone",message:"請輸入有效的電話號碼"}),e.contactInfo.phone||e.contactInfo.email||s.push({field:"contactInfo",message:"至少需要提供一種聯絡方式"})):s.push({field:"contactInfo",message:"聯絡資訊為必填項目"}),{isValid:0===s.length,errors:s}},u={email:{test:e=>a(e),message:"請輸入有效的電子郵件格式"},password:{test:e=>r(e),message:"密碼至少需要8個字符，包含大小寫字母、數字和特殊字符"},phone:{test:e=>n(e),message:"請輸入有效的電話號碼"},name:{test:e=>e&&e.trim().length>=2,message:"姓名至少需要2個字符"}}}},function(e){e.O(0,[9061,9044,7604,2858,4046,2971,4938,1744],function(){return e(e.s=8132)}),_N_E=e.O()}]);