45eb7e73a044d205375eeba8aa287f48
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.petIdParamsSchema = exports.petUpdateSchema = exports.petSchema = void 0;
const zod_1 = require("zod");
const auth_1 = require("./auth");
// 寵物相關驗證架構
exports.petSchema = zod_1.z.object({
    name: zod_1.z.string().trim().min(1, '寵物名稱為必填項目').max(50, '寵物名稱不能超過 50 個字符'),
    type: zod_1.z.enum(['dog', 'cat', 'bird', 'rabbit', 'other'], {
        errorMap: () => ({ message: '請選擇有效的寵物類型' }),
    }),
    breed: zod_1.z.string().trim().max(50, '品種名稱不能超過 50 個字符').optional(),
    gender: zod_1.z.enum(['male', 'female', 'unknown'], {
        errorMap: () => ({ message: '請選擇有效的性別' }),
    }),
    age: zod_1.z.number().int().min(0, '年齡不能為負數').max(50, '年齡不能超過 50 歲').optional(),
    color: zod_1.z.string().trim().max(100, '顏色描述不能超過 100 個字符').optional(),
    size: zod_1.z.enum(['small', 'medium', 'large'], {
        errorMap: () => ({ message: '請選擇有效的體型' }),
    }),
    status: zod_1.z.enum(['lost', 'found', 'reunited'], {
        errorMap: () => ({ message: '請選擇有效的狀態' }),
    }),
    description: zod_1.z.string().trim().min(1, '描述為必填項目').max(1000, '描述不能超過 1000 個字符'),
    lastSeenLocation: zod_1.z.string().trim().min(1, '最後出現地點為必填項目').max(200, '地點描述不能超過 200 個字符'),
    lastSeenDate: zod_1.z.string().datetime('請提供有效的日期時間格式'),
    contactInfo: zod_1.z.object({
        name: auth_1.nameSchema,
        phone: zod_1.z.string().regex(/^[+]?[0-9\s\-()]+$/, '請提供有效的電話號碼'),
        email: auth_1.emailSchema,
    }),
    images: zod_1.z.array(zod_1.z.string()).max(5, '最多只能上傳 5 張圖片').default([]),
    reward: zod_1.z.number().min(0, '獎勵金額不能為負數').optional(),
    isUrgent: zod_1.z.boolean().default(false),
    microchipId: zod_1.z.string().trim().max(50, '晶片 ID 不能超過 50 個字符').optional(),
    vaccinations: zod_1.z.array(zod_1.z.string()).optional(),
    medicalConditions: zod_1.z.array(zod_1.z.string()).optional(),
    specialMarks: zod_1.z.string().trim().max(500, '特殊標記描述不能超過 500 個字符').optional(),
    personality: zod_1.z.array(zod_1.z.string()).optional(),
});
// 寵物更新驗證架構
exports.petUpdateSchema = exports.petSchema.partial().omit({ status: true });
// 寵物 ID 參數驗證架構
exports.petIdParamsSchema = zod_1.z.object({
    id: zod_1.z.string().regex(/^[0-9a-fA-F]{24}$/, '請提供有效的寵物 ID'),
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFx0cmFlcHJvamVjdFxcdGVzdDJcXHBldC1maW5kZXItYXBwXFxiYWNrZW5kXFxzcmNcXHNjaGVtYXNcXHBldC50cyIsIm1hcHBpbmdzIjoiOzs7QUFBQSw2QkFBd0I7QUFDeEIsaUNBQWlEO0FBRWpELFdBQVc7QUFDRSxRQUFBLFNBQVMsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQ2hDLElBQUksRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLGlCQUFpQixDQUFDO0lBQ3RFLElBQUksRUFBRSxPQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFFO1FBQ3RELFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxDQUFDO0tBQzVDLENBQUM7SUFDRixLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDOUQsTUFBTSxFQUFFLE9BQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLFNBQVMsQ0FBQyxFQUFFO1FBQzVDLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDO0tBQzFDLENBQUM7SUFDRixHQUFHLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxhQUFhLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDekUsS0FBSyxFQUFFLE9BQUMs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Q0FBQztDQUN6RCxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFx0cmFlcHJvamVjdFxcdGVzdDJcXHBldC1maW5kZXItYXBwXFxiYWNrZW5kXFxzcmNcXHNjaGVtYXNcXHBldC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IGVtYWlsU2NoZW1hLCBuYW1lU2NoZW1hIH0gZnJvbSAnLi9hdXRoJztcblxuLy8g5a+154mp55u46Zec6amX6K2J5p625qeLXG5leHBvcnQgY29uc3QgcGV0U2NoZW1hID0gei5vYmplY3Qoe1xuICBuYW1lOiB6LnN0cmluZygpLnRyaW0oKS5taW4oMSwgJ+WvteeJqeWQjeeoseeCuuW/heWhq+mgheebricpLm1heCg1MCwgJ+WvteeJqeWQjeeoseS4jeiDvei2hemBjiA1MCDlgIvlrZfnrKYnKSxcbiAgdHlwZTogei5lbnVtKFsnZG9nJywgJ2NhdCcsICdiaXJkJywgJ3JhYmJpdCcsICdvdGhlciddLCB7XG4gICAgZXJyb3JNYXA6ICgpID0+ICh7IG1lc3NhZ2U6ICfoq4vpgbjmk4fmnInmlYjnmoTlr7XnianpoZ7lnosnIH0pLFxuICB9KSxcbiAgYnJlZWQ6IHouc3RyaW5nKCkudHJpbSgpLm1heCg1MCwgJ+WTgeeoruWQjeeoseS4jeiDvei2hemBjiA1MCDlgIvlrZfnrKYnKS5vcHRpb25hbCgpLFxuICBnZW5kZXI6IHouZW51bShbJ21hbGUnLCAnZmVtYWxlJywgJ3Vua25vd24nXSwge1xuICAgIGVycm9yTWFwOiAoKSA9PiAoeyBtZXNzYWdlOiAn6KuL6YG45pOH5pyJ5pWI55qE5oCn5YilJyB9KSxcbiAgfSksXG4gIGFnZTogei5udW1iZXIoKS5pbnQoKS5taW4oMCwgJ+W5tOm9oeS4jeiDveeCuuiyoOaVuCcpLm1heCg1MCwgJ+W5tOm9oeS4jeiDvei2hemBjiA1MCDmrbInKS5vcHRpb25hbCgpLFxuICBjb2xvcjogei5zdHJpbmcoKS50cmltKCkubWF4KDEwMCwgJ+mhj+iJsuaPj+i/sOS4jeiDvei2hemBjiAxMDAg5YCL5a2X56ymJykub3B0aW9uYWwoKSxcbiAgc2l6ZTogei5lbnVtKFsnc21hbGwnLCAnbWVkaXVtJywgJ2xhcmdlJ10sIHtcbiAgICBlcnJvck1hcDogKCkgPT4gKHsgbWVzc2FnZTogJ+iri+mBuOaTh+acieaViOeahOmrlOWeiycgfSksXG4gIH0pLFxuICBzdGF0dXM6IHouZW51bShbJ2xvc3QnLCAnZm91bmQnLCAncmV1bml0ZWQnXSwge1xuICAgIGVycm9yTWFwOiAoKSA9PiAoeyBtZXNzYWdlOiAn6KuL6YG45pOH5pyJ5pWI55qE54uA5oWLJyB9KSxcbiAgfSksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLnRyaW0oKS5taW4oMSwgJ+aPj+i/sOeCuuW/heWhq+mgheebricpLm1heCgxMDAwLCAn5o+P6L+w5LiN6IO96LaF6YGOIDEwMDAg5YCL5a2X56ymJyksXG4gIGxhc3RTZWVuTG9jYXRpb246IHouc3RyaW5nKCkudHJpbSgpLm1pbigxLCAn5pyA5b6M5Ye654++5Zyw6bue54K65b+F5aGr6aCF55uuJykubWF4KDIwMCwgJ+WcsOm7nuaPj+i/sOS4jeiDvei2hemBjiAyMDAg5YCL5a2X56ymJyksXG4gIGxhc3RTZWVuRGF0ZTogei5zdHJpbmcoKS5kYXRldGltZSgn6KuL5o+Q5L6b5pyJ5pWI55qE5pel5pyf5pmC6ZaT5qC85byPJyksXG4gIGNvbnRhY3RJbmZvOiB6Lm9iamVjdCh7XG4gICAgbmFtZTogbmFtZVNjaGVtYSxcbiAgICBwaG9uZTogei5zdHJpbmcoKS5yZWdleCgvXlsrXT9bMC05XFxzXFwtKCldKyQvLCAn6KuL5o+Q5L6b5pyJ5pWI55qE6Zu76Kmx6Jmf56K8JyksXG4gICAgZW1haWw6IGVtYWlsU2NoZW1hLFxuICB9KSxcbiAgaW1hZ2VzOiB6LmFycmF5KHouc3RyaW5nKCkpLm1heCg1LCAn5pyA5aSa5Y+q6IO95LiK5YKzIDUg5by15ZyW54mHJykuZGVmYXVsdChbXSksXG4gIHJld2FyZDogei5udW1iZXIoKS5taW4oMCwgJ+eNjuWLtemHkemhjeS4jeiDveeCuuiyoOaVuCcpLm9wdGlvbmFsKCksXG4gIGlzVXJnZW50OiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgbWljcm9jaGlwSWQ6IHouc3RyaW5nKCkudHJpbSgpLm1heCg1MCwgJ+aZtueJhyBJRCDkuI3og73otoXpgY4gNTAg5YCL5a2X56ymJykub3B0aW9uYWwoKSxcbiAgdmFjY2luYXRpb25zOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIG1lZGljYWxDb25kaXRpb25zOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIHNwZWNpYWxNYXJrczogei5zdHJpbmcoKS50cmltKCkubWF4KDUwMCwgJ+eJueauiuaomeiomOaPj+i/sOS4jeiDvei2hemBjiA1MDAg5YCL5a2X56ymJykub3B0aW9uYWwoKSxcbiAgcGVyc29uYWxpdHk6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbn0pO1xuXG4vLyDlr7Xnianmm7TmlrDpqZforYnmnrbmp4tcbmV4cG9ydCBjb25zdCBwZXRVcGRhdGVTY2hlbWEgPSBwZXRTY2hlbWEucGFydGlhbCgpLm9taXQoeyBzdGF0dXM6IHRydWUgfSk7XG5cbi8vIOWvteeJqSBJRCDlj4PmlbjpqZforYnmnrbmp4tcbmV4cG9ydCBjb25zdCBwZXRJZFBhcmFtc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgaWQ6IHouc3RyaW5nKCkucmVnZXgoL15bMC05YS1mQS1GXXsyNH0kLywgJ+iri+aPkOS+m+acieaViOeahOWvteeJqSBJRCcpLFxufSk7XG5cbi8vIOmhnuWei+WwjuWHulxuZXhwb3J0IHR5cGUgUGV0RGF0YSA9IHouaW5mZXI8dHlwZW9mIHBldFNjaGVtYT47XG5leHBvcnQgdHlwZSBQZXRVcGRhdGVEYXRhID0gei5pbmZlcjx0eXBlb2YgcGV0VXBkYXRlU2NoZW1hPjtcbmV4cG9ydCB0eXBlIFBldElkUGFyYW1zID0gei5pbmZlcjx0eXBlb2YgcGV0SWRQYXJhbXNTY2hlbWE+OyJdLCJ2ZXJzaW9uIjozfQ==