efd3f1966668c966ad524884fef57345
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.searchHistorySchema = exports.aiSearchSchema = exports.petSearchSchema = void 0;
const zod_1 = require("zod");
// 搜尋相關驗證架構
exports.petSearchSchema = zod_1.z.object({
    type: zod_1.z.enum(['dog', 'cat', 'bird', 'rabbit', 'other']).optional(),
    status: zod_1.z.enum(['lost', 'found', 'reunited']).optional(),
    location: zod_1.z.string().trim().optional(),
    radius: zod_1.z.string().transform(val => val ? Number(val) : undefined).pipe(zod_1.z.number().min(1).max(100, '搜尋半徑不能超過 100 公里')).optional(),
    page: zod_1.z.string().transform(val => val ? Number(val) : 1).pipe(zod_1.z.number().int().min(1, '頁碼必須大於 0')).default('1'),
    limit: zod_1.z.string().transform(val => val ? Number(val) : 10).pipe(zod_1.z.number().int().min(1).max(50, '每頁數量不能超過 50')).default('10'),
    sortBy: zod_1.z.enum(['createdAt', 'lastSeenDate', 'reward']).default('createdAt'),
    sortOrder: zod_1.z.enum(['asc', 'desc']).default('desc'),
    search: zod_1.z.string().trim().optional(),
    breed: zod_1.z.string().trim().optional(),
});
// AI 搜尋驗證架構
exports.aiSearchSchema = zod_1.z.object({
    description: zod_1.z.string().trim().min(1, '描述為必填項目').max(500, '描述不能超過 500 個字符'),
    location: zod_1.z.string().trim().optional(),
    type: zod_1.z.enum(['dog', 'cat', 'bird', 'rabbit', 'other']).optional(),
    status: zod_1.z.enum(['lost', 'found']).optional(),
});
// 搜尋歷史驗證架構
exports.searchHistorySchema = zod_1.z.object({
    query: zod_1.z.string().trim().min(1, '搜尋查詢為必填項目').max(200, '搜尋查詢不能超過 200 個字符'),
    filters: zod_1.z.object({
        type: zod_1.z.enum(['dog', 'cat', 'bird', 'rabbit', 'other']).optional(),
        status: zod_1.z.enum(['lost', 'found', 'reunited']).optional(),
        location: zod_1.z.string().trim().optional(),
        radius: zod_1.z.number().min(1).max(100).optional(),
    }).optional(),
    resultCount: zod_1.z.number().int().min(0).optional(),
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFx0cmFlcHJvamVjdFxcdGVzdDJcXHBldC1maW5kZXItYXBwXFxiYWNrZW5kXFxzcmNcXHNjaGVtYXNcXHNlYXJjaC50cyIsIm1hcHBpbmdzIjoiOzs7QUFBQSw2QkFBd0I7QUFFeEIsV0FBVztBQUNFLFFBQUEsZUFBZSxHQUFHLE9BQUMsQ0FBQyxNQUFNLENBQUM7SUFDdEMsSUFBSSxFQUFFLE9BQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDbEUsTUFBTSxFQUFFLE9BQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQ3hELFFBQVEsRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ3RDLE1BQU0sRUFBRSxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtJQUNqSSxJQUFJLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcs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QUFDLFFBQVEsRUFBRTtDQUNoRCxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFx0cmFlcHJvamVjdFxcdGVzdDJcXHBldC1maW5kZXItYXBwXFxiYWNrZW5kXFxzcmNcXHNjaGVtYXNcXHNlYXJjaC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuLy8g5pCc5bCL55u46Zec6amX6K2J5p625qeLXG5leHBvcnQgY29uc3QgcGV0U2VhcmNoU2NoZW1hID0gei5vYmplY3Qoe1xuICB0eXBlOiB6LmVudW0oWydkb2cnLCAnY2F0JywgJ2JpcmQnLCAncmFiYml0JywgJ290aGVyJ10pLm9wdGlvbmFsKCksXG4gIHN0YXR1czogei5lbnVtKFsnbG9zdCcsICdmb3VuZCcsICdyZXVuaXRlZCddKS5vcHRpb25hbCgpLFxuICBsb2NhdGlvbjogei5zdHJpbmcoKS50cmltKCkub3B0aW9uYWwoKSxcbiAgcmFkaXVzOiB6LnN0cmluZygpLnRyYW5zZm9ybSh2YWwgPT4gdmFsID8gTnVtYmVyKHZhbCkgOiB1bmRlZmluZWQpLnBpcGUoei5udW1iZXIoKS5taW4oMSkubWF4KDEwMCwgJ+aQnOWwi+WNiuW+keS4jeiDvei2hemBjiAxMDAg5YWs6YeMJykpLm9wdGlvbmFsKCksXG4gIHBhZ2U6IHouc3RyaW5nKCkudHJhbnNmb3JtKHZhbCA9PiB2YWwgPyBOdW1iZXIodmFsKSA6IDEpLnBpcGUoei5udW1iZXIoKS5pbnQoKS5taW4oMSwgJ+mggeeivOW/hemgiOWkp+aWvCAwJykpLmRlZmF1bHQoJzEnKSxcbiAgbGltaXQ6IHouc3RyaW5nKCkudHJhbnNmb3JtKHZhbCA9PiB2YWwgPyBOdW1iZXIodmFsKSA6IDEwKS5waXBlKHoubnVtYmVyKCkuaW50KCkubWluKDEpLm1heCg1MCwgJ+avj+mggeaVuOmHj+S4jeiDvei2hemBjiA1MCcpKS5kZWZhdWx0KCcxMCcpLFxuICBzb3J0Qnk6IHouZW51bShbJ2NyZWF0ZWRBdCcsICdsYXN0U2VlbkRhdGUnLCAncmV3YXJkJ10pLmRlZmF1bHQoJ2NyZWF0ZWRBdCcpLFxuICBzb3J0T3JkZXI6IHouZW51bShbJ2FzYycsICdkZXNjJ10pLmRlZmF1bHQoJ2Rlc2MnKSxcbiAgc2VhcmNoOiB6LnN0cmluZygpLnRyaW0oKS5vcHRpb25hbCgpLFxuICBicmVlZDogei5zdHJpbmcoKS50cmltKCkub3B0aW9uYWwoKSxcbn0pO1xuXG4vLyBBSSDmkJzlsIvpqZforYnmnrbmp4tcbmV4cG9ydCBjb25zdCBhaVNlYXJjaFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkudHJpbSgpLm1pbigxLCAn5o+P6L+w54K65b+F5aGr6aCF55uuJykubWF4KDUwMCwgJ+aPj+i/sOS4jeiDvei2hemBjiA1MDAg5YCL5a2X56ymJyksXG4gIGxvY2F0aW9uOiB6LnN0cmluZygpLnRyaW0oKS5vcHRpb25hbCgpLFxuICB0eXBlOiB6LmVudW0oWydkb2cnLCAnY2F0JywgJ2JpcmQnLCAncmFiYml0JywgJ290aGVyJ10pLm9wdGlvbmFsKCksXG4gIHN0YXR1czogei5lbnVtKFsnbG9zdCcsICdmb3VuZCddKS5vcHRpb25hbCgpLFxufSk7XG5cbi8vIOaQnOWwi+att+WPsumpl+itieaetuani1xuZXhwb3J0IGNvbnN0IHNlYXJjaEhpc3RvcnlTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHF1ZXJ5OiB6LnN0cmluZygpLnRyaW0oKS5taW4oMSwgJ+aQnOWwi+afpeipoueCuuW/heWhq+mgheebricpLm1heCgyMDAsICfmkJzlsIvmn6XoqaLkuI3og73otoXpgY4gMjAwIOWAi+Wtl+espicpLFxuICBmaWx0ZXJzOiB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5lbnVtKFsnZG9nJywgJ2NhdCcsICdiaXJkJywgJ3JhYmJpdCcsICdvdGhlciddKS5vcHRpb25hbCgpLFxuICAgIHN0YXR1czogei5lbnVtKFsnbG9zdCcsICdmb3VuZCcsICdyZXVuaXRlZCddKS5vcHRpb25hbCgpLFxuICAgIGxvY2F0aW9uOiB6LnN0cmluZygpLnRyaW0oKS5vcHRpb25hbCgpLFxuICAgIHJhZGl1czogei5udW1iZXIoKS5taW4oMSkubWF4KDEwMCkub3B0aW9uYWwoKSxcbiAgfSkub3B0aW9uYWwoKSxcbiAgcmVzdWx0Q291bnQ6IHoubnVtYmVyKCkuaW50KCkubWluKDApLm9wdGlvbmFsKCksXG59KTtcblxuLy8g6aGe5Z6L5bCO5Ye6XG5leHBvcnQgdHlwZSBQZXRTZWFyY2hRdWVyeSA9IHouaW5mZXI8dHlwZW9mIHBldFNlYXJjaFNjaGVtYT47XG5leHBvcnQgdHlwZSBBaVNlYXJjaFF1ZXJ5ID0gei5pbmZlcjx0eXBlb2YgYWlTZWFyY2hTY2hlbWE+O1xuZXhwb3J0IHR5cGUgU2VhcmNoSGlzdG9yeURhdGEgPSB6LmluZmVyPHR5cGVvZiBzZWFyY2hIaXN0b3J5U2NoZW1hPjsiXSwidmVyc2lvbiI6M30=