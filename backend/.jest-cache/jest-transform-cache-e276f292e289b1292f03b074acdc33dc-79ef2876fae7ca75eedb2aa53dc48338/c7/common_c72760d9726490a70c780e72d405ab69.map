{"file":"C:\\Users\\User\\Desktop\\traeproject\\test2\\pet-finder-app\\backend\\src\\schemas\\common.ts","mappings":"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","names":[],"sources":["C:\\Users\\User\\Desktop\\traeproject\\test2\\pet-finder-app\\backend\\src\\schemas\\common.ts"],"sourcesContent":["import { z } from 'zod';\n\n// 通用 ID 驗證架構\nexport const mongoIdSchema = z.string().regex(/^[0-9a-fA-F]{24}$/, '請提供有效的 ID');\n\n// 分頁驗證架構\nexport const paginationSchema = z.object({\n  page: z.string().transform(val => val ? Number(val) : 1).pipe(z.number().int().min(1, '頁碼必須大於 0')).default('1'),\n  limit: z.string().transform(val => val ? Number(val) : 10).pipe(z.number().int().min(1).max(100, '每頁數量不能超過 100')).default('10'),\n});\n\n// 排序驗證架構\nexport const sortSchema = z.object({\n  sortBy: z.string().default('createdAt'),\n  sortOrder: z.enum(['asc', 'desc']).default('desc'),\n});\n\n// 隱私設定驗證架構\nexport const privacySettingsSchema = z.object({\n  showEmail: z.boolean().default(false),\n  showPhone: z.boolean().default(true),\n  allowDirectContact: z.boolean().default(true),\n  showFullName: z.boolean().default(false),\n  profileVisibility: z.enum(['public', 'registered', 'private']).default('registered'),\n  emailNotifications: z.object({\n    newMatches: z.boolean().default(true),\n    messages: z.boolean().default(true),\n    updates: z.boolean().default(false),\n    marketing: z.boolean().default(false),\n  }).default({}),\n  smsNotifications: z.object({\n    urgentAlerts: z.boolean().default(true),\n    matches: z.boolean().default(false),\n  }).default({}),\n});\n\n// 檔案上傳驗證架構\nexport const fileUploadSchema = z.object({\n  fieldname: z.string(),\n  originalname: z.string(),\n  encoding: z.string(),\n  mimetype: z.string(),\n  size: z.number(),\n  destination: z.string().optional(),\n  filename: z.string().optional(),\n  path: z.string().optional(),\n  buffer: z.instanceof(Buffer).optional(),\n});\n\n// 聯絡資訊驗證架構\nexport const contactInfoSchema = z.object({\n  name: z.string().trim().min(1, '姓名為必填項目').max(50, '姓名長度不能超過 50 個字符'),\n  phone: z.string().regex(/^[+]?[0-9\\s\\-()]+$/, '請提供有效的電話號碼'),\n  email: z.string().email('請提供有效的電子郵件地址'),\n  preferredContactMethod: z.enum(['email', 'phone', 'both']).default('both'),\n});\n\n// 地理位置驗證架構\nexport const locationSchema = z.object({\n  address: z.string().trim().min(1, '地址為必填項目').max(200, '地址不能超過 200 個字符'),\n  city: z.string().trim().min(1, '城市為必填項目').max(50, '城市名稱不能超過 50 個字符'),\n  state: z.string().trim().max(50, '州/省名稱不能超過 50 個字符').optional(),\n  country: z.string().trim().min(1, '國家為必填項目').max(50, '國家名稱不能超過 50 個字符'),\n  zipCode: z.string().trim().max(20, '郵遞區號不能超過 20 個字符').optional(),\n  coordinates: z.object({\n    latitude: z.number().min(-90).max(90, '緯度必須在 -90 到 90 之間'),\n    longitude: z.number().min(-180).max(180, '經度必須在 -180 到 180 之間'),\n  }).optional(),\n});\n\n// 類型導出\nexport type MongoId = z.infer<typeof mongoIdSchema>;\nexport type PaginationQuery = z.infer<typeof paginationSchema>;\nexport type SortQuery = z.infer<typeof sortSchema>;\nexport type PrivacySettings = z.infer<typeof privacySettingsSchema>;\nexport type FileUpload = z.infer<typeof fileUploadSchema>;\nexport type ContactInfo = z.infer<typeof contactInfoSchema>;\nexport type Location = z.infer<typeof locationSchema>;"],"version":3}