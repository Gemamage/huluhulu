47a22209ad8a96d179fdc62998086346
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// 簡單的單元測試 - 不依賴數據庫
const globals_1 = require("@jest/globals");
// 設置基本環境變數
process.env.NODE_ENV = 'test';
process.env.JWT_SECRET = 'test-jwt-secret-key-with-minimum-32-characters-length';
(0, globals_1.describe)('基本功能測試', () => {
    (0, globals_1.it)('應該能夠運行基本的 JavaScript 測試', () => {
        (0, globals_1.expect)(1 + 1).toBe(2);
    });
    (0, globals_1.it)('應該能夠測試字符串操作', () => {
        const testString = 'Hello World';
        (0, globals_1.expect)(testString.toLowerCase()).toBe('hello world');
        (0, globals_1.expect)(testString.length).toBe(11);
    });
    (0, globals_1.it)('應該能夠測試數組操作', () => {
        const testArray = [1, 2, 3, 4, 5];
        (0, globals_1.expect)(testArray.length).toBe(5);
        (0, globals_1.expect)(testArray.includes(3)).toBe(true);
        (0, globals_1.expect)(testArray.filter(x => x > 3)).toEqual([4, 5]);
    });
    (0, globals_1.it)('應該能夠測試對象操作', () => {
        const testObject = {
            name: 'Test User',
            email: 'test@example.com',
            age: 25
        };
        (0, globals_1.expect)(testObject.name).toBe('Test User');
        (0, globals_1.expect)(testObject.email).toContain('@');
        (0, globals_1.expect)(testObject.age).toBeGreaterThan(18);
    });
    (0, globals_1.it)('應該能夠測試異步操作', async () => {
        const asyncFunction = async () => {
            return new Promise(resolve => {
                setTimeout(() => resolve('async result'), 10);
            });
        };
        const result = await asyncFunction();
        (0, globals_1.expect)(result).toBe('async result');
    });
});
(0, globals_1.describe)('環境變數測試', () => {
    (0, globals_1.it)('應該正確設置測試環境', () => {
        (0, globals_1.expect)(process.env.NODE_ENV).toBe('test');
        (0, globals_1.expect)(process.env.JWT_SECRET).toBeDefined();
        (0, globals_1.expect)(process.env.JWT_SECRET.length).toBeGreaterThan(30);
    });
});
(0, globals_1.describe)('TypeScript 功能測試', () => {
    (0, globals_1.it)('應該能夠使用 TypeScript 接口', () => {
        const testItem = {
            id: 1,
            name: 'Test Item',
            active: true
        };
        (0, globals_1.expect)(testItem.id).toBe(1);
        (0, globals_1.expect)(testItem.name).toBe('Test Item');
        (0, globals_1.expect)(testItem.active).toBe(true);
    });
    (0, globals_1.it)('應該能夠使用泛型', () => {
        function identity(arg) {
            return arg;
        }
        (0, globals_1.expect)(identity('hello')).toBe('hello');
        (0, globals_1.expect)(identity(42)).toBe(42);
        (0, globals_1.expect)(identity(true)).toBe(true);
    });
});
console.log('✅ 簡單測試檔案已載入');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFx0cmFlcHJvamVjdFxcdGVzdDJcXHBldC1maW5kZXItYXBwXFxiYWNrZW5kXFx0ZXN0XFxzaW1wbGUudGVzdC50cyIsIm1hcHBpbmdzIjoiOztBQUFBLG1CQUFtQjtBQUNuQiwyQ0FBcUQ7QUFFckQsV0FBVztBQUNYLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztBQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsR0FBRyx1REFBdUQsQ0FBQztBQUVqRixJQUFBLGtCQUFRLEVBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtJQUN0QixJQUFBLFlBQUUsRUFBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsSUFBQSxnQkFBTSxFQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLFlBQUUsRUFBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO1FBQ3JCLE1BQU0sVUFBVSxHQUFHLGFBQWEsQ0FBQztRQUNqQyxJQUFBLGdCQUFNLEVBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3JELElBQUEsZ0JBQU0sRUFBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBQSxZQUFFLEVBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtRQUNwQixNQUFNLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNsQyxJQUFBLGdCQUFNLEVBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxJQUFBLGdCQUFNLEVBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxD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Q3pCLE9BQU8sR0FBRyxDQUFDO1FBQ2IsQ0FBQztRQUVELElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQVMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDaEQsSUFBQSxnQkFBTSxFQUFDLFFBQVEsQ0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN0QyxJQUFBLGdCQUFNLEVBQUMsUUFBUSxDQUFVLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzdDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7QUFFSCxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcVXNlclxcRGVza3RvcFxcdHJhZXByb2plY3RcXHRlc3QyXFxwZXQtZmluZGVyLWFwcFxcYmFja2VuZFxcdGVzdFxcc2ltcGxlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g57Ch5Zau55qE5Zau5YWD5ris6KmmIC0g5LiN5L6d6LO05pW45pOa5bqrXG5pbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuXG4vLyDoqK3nva7ln7rmnKznkrDlooPorormlbhcbnByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ3Rlc3QnO1xucHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCA9ICd0ZXN0LWp3dC1zZWNyZXQta2V5LXdpdGgtbWluaW11bS0zMi1jaGFyYWN0ZXJzLWxlbmd0aCc7XG5cbmRlc2NyaWJlKCfln7rmnKzlip/og73muKzoqaYnLCAoKSA9PiB7XG4gIGl0KCfmh4noqbLog73lpKDpgYvooYzln7rmnKznmoQgSmF2YVNjcmlwdCDmuKzoqaYnLCAoKSA9PiB7XG4gICAgZXhwZWN0KDEgKyAxKS50b0JlKDIpO1xuICB9KTtcbiAgXG4gIGl0KCfmh4noqbLog73lpKDmuKzoqablrZfnrKbkuLLmk43kvZwnLCAoKSA9PiB7XG4gICAgY29uc3QgdGVzdFN0cmluZyA9ICdIZWxsbyBXb3JsZCc7XG4gICAgZXhwZWN0KHRlc3RTdHJpbmcudG9Mb3dlckNhc2UoKSkudG9CZSgnaGVsbG8gd29ybGQnKTtcbiAgICBleHBlY3QodGVzdFN0cmluZy5sZW5ndGgpLnRvQmUoMTEpO1xuICB9KTtcbiAgXG4gIGl0KCfmh4noqbLog73lpKDmuKzoqabmlbjntYTmk43kvZwnLCAoKSA9PiB7XG4gICAgY29uc3QgdGVzdEFycmF5ID0gWzEsIDIsIDMsIDQsIDVdO1xuICAgIGV4cGVjdCh0ZXN0QXJyYXkubGVuZ3RoKS50b0JlKDUpO1xuICAgIGV4cGVjdCh0ZXN0QXJyYXkuaW5jbHVkZXMoMykpLnRvQmUodHJ1ZSk7XG4gICAgZXhwZWN0KHRlc3RBcnJheS5maWx0ZXIoeCA9PiB4ID4gMykpLnRvRXF1YWwoWzQsIDVdKTtcbiAgfSk7XG4gIFxuICBpdCgn5oeJ6Kmy6IO95aSg5ris6Kmm5bCN6LGh5pON5L2cJywgKCkgPT4ge1xuICAgIGNvbnN0IHRlc3RPYmplY3QgPSB7XG4gICAgICBuYW1lOiAnVGVzdCBVc2VyJyxcbiAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICBhZ2U6IDI1XG4gICAgfTtcbiAgICBcbiAgICBleHBlY3QodGVzdE9iamVjdC5uYW1lKS50b0JlKCdUZXN0IFVzZXInKTtcbiAgICBleHBlY3QodGVzdE9iamVjdC5lbWFpbCkudG9Db250YWluKCdAJyk7XG4gICAgZXhwZWN0KHRlc3RPYmplY3QuYWdlKS50b0JlR3JlYXRlclRoYW4oMTgpO1xuICB9KTtcbiAgXG4gIGl0KCfmh4noqbLog73lpKDmuKzoqabnlbDmraXmk43kvZwnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYXN5bmNGdW5jdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKCdhc3luYyByZXN1bHQnKSwgMTApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhc3luY0Z1bmN0aW9uKCk7XG4gICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnYXN5bmMgcmVzdWx0Jyk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCfnkrDlooPorormlbjmuKzoqaYnLCAoKSA9PiB7XG4gIGl0KCfmh4noqbLmraPnorroqK3nva7muKzoqabnkrDlooMnLCAoKSA9PiB7XG4gICAgZXhwZWN0KHByb2Nlc3MuZW52Lk5PREVfRU5WKS50b0JlKCd0ZXN0Jyk7XG4gICAgZXhwZWN0KHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHByb2Nlc3MuZW52LkpXVF9TRUNSRVQhLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDMwKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ1R5cGVTY3JpcHQg5Yqf6IO95ris6KmmJywgKCkgPT4ge1xuICBpbnRlcmZhY2UgVGVzdEludGVyZmFjZSB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYWN0aXZlOiBib29sZWFuO1xuICB9XG4gIFxuICBpdCgn5oeJ6Kmy6IO95aSg5L2/55SoIFR5cGVTY3JpcHQg5o6l5Y+jJywgKCkgPT4ge1xuICAgIGNvbnN0IHRlc3RJdGVtOiBUZXN0SW50ZXJmYWNlID0ge1xuICAgICAgaWQ6IDEsXG4gICAgICBuYW1lOiAnVGVzdCBJdGVtJyxcbiAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgIH07XG4gICAgXG4gICAgZXhwZWN0KHRlc3RJdGVtLmlkKS50b0JlKDEpO1xuICAgIGV4cGVjdCh0ZXN0SXRlbS5uYW1lKS50b0JlKCdUZXN0IEl0ZW0nKTtcbiAgICBleHBlY3QodGVzdEl0ZW0uYWN0aXZlKS50b0JlKHRydWUpO1xuICB9KTtcbiAgXG4gIGl0KCfmh4noqbLog73lpKDkvb/nlKjms5vlnosnLCAoKSA9PiB7XG4gICAgZnVuY3Rpb24gaWRlbnRpdHk8VD4oYXJnOiBUKTogVCB7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH1cbiAgICBcbiAgICBleHBlY3QoaWRlbnRpdHk8c3RyaW5nPignaGVsbG8nKSkudG9CZSgnaGVsbG8nKTtcbiAgICBleHBlY3QoaWRlbnRpdHk8bnVtYmVyPig0MikpLnRvQmUoNDIpO1xuICAgIGV4cGVjdChpZGVudGl0eTxib29sZWFuPih0cnVlKSkudG9CZSh0cnVlKTtcbiAgfSk7XG59KTtcblxuY29uc29sZS5sb2coJ+KchSDnsKHllq7muKzoqabmqpTmoYjlt7LovInlhaUnKTsiXSwidmVyc2lvbiI6M30=