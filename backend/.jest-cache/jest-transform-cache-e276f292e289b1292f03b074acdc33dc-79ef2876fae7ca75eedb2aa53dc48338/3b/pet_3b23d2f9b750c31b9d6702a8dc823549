adc89abd39cb26c2838daac8c522136d
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.petIdParamsSchema = exports.petUpdateSchema = exports.petSchema = void 0;
const zod_1 = require("zod");
const auth_1 = require("./auth");
// 寵物相關驗證架構
exports.petSchema = zod_1.z.object({
    name: zod_1.z
        .string()
        .trim()
        .min(1, "寵物名稱為必填項目")
        .max(50, "寵物名稱不能超過 50 個字符"),
    type: zod_1.z.enum(["dog", "cat", "bird", "rabbit", "other"], {
        errorMap: () => ({ message: "請選擇有效的寵物類型" }),
    }),
    breed: zod_1.z.string().trim().max(50, "品種名稱不能超過 50 個字符").optional(),
    gender: zod_1.z.enum(["male", "female", "unknown"], {
        errorMap: () => ({ message: "請選擇有效的性別" }),
    }),
    age: zod_1.z
        .number()
        .int()
        .min(0, "年齡不能為負數")
        .max(50, "年齡不能超過 50 歲")
        .optional(),
    color: zod_1.z.string().trim().max(100, "顏色描述不能超過 100 個字符").optional(),
    size: zod_1.z.enum(["small", "medium", "large"], {
        errorMap: () => ({ message: "請選擇有效的體型" }),
    }),
    status: zod_1.z.enum(["lost", "found", "reunited"], {
        errorMap: () => ({ message: "請選擇有效的狀態" }),
    }),
    description: zod_1.z
        .string()
        .trim()
        .min(1, "描述為必填項目")
        .max(1000, "描述不能超過 1000 個字符"),
    lastSeenLocation: zod_1.z
        .string()
        .trim()
        .min(1, "最後出現地點為必填項目")
        .max(200, "地點描述不能超過 200 個字符"),
    lastSeenDate: zod_1.z.string().datetime("請提供有效的日期時間格式"),
    contactInfo: zod_1.z.object({
        name: auth_1.nameSchema,
        phone: zod_1.z.string().regex(/^[+]?[0-9\s\-()]+$/, "請提供有效的電話號碼"),
        email: auth_1.emailSchema,
    }),
    images: zod_1.z.array(zod_1.z.string()).max(5, "最多只能上傳 5 張圖片").default([]),
    reward: zod_1.z.number().min(0, "獎勵金額不能為負數").optional(),
    isUrgent: zod_1.z.boolean().default(false),
    microchipId: zod_1.z
        .string()
        .trim()
        .max(50, "晶片 ID 不能超過 50 個字符")
        .optional(),
    vaccinations: zod_1.z.array(zod_1.z.string()).optional(),
    medicalConditions: zod_1.z.array(zod_1.z.string()).optional(),
    specialMarks: zod_1.z
        .string()
        .trim()
        .max(500, "特殊標記描述不能超過 500 個字符")
        .optional(),
    personality: zod_1.z.array(zod_1.z.string()).optional(),
});
// 寵物更新驗證架構
exports.petUpdateSchema = exports.petSchema.partial().omit({ status: true });
// 寵物 ID 參數驗證架構
exports.petIdParamsSchema = zod_1.z.object({
    id: zod_1.z.string().regex(/^[0-9a-fA-F]{24}$/, "請提供有效的寵物 ID"),
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFx0cmFlcHJvamVjdFxcdGVzdDJcXHBldC1maW5kZXItYXBwXFxiYWNrZW5kXFxzcmNcXHNjaGVtYXNcXHBldC50cyIsIm1hcHBpbmdzIjoiOzs7QUFBQSw2QkFBd0I7QUFDeEIsaUNBQWlEO0FBRWpELFdBQVc7QUFDRSxRQUFBLFNBQVMsR0FBRyxPQUFDLENBQUMsTUFBTSxDQUFDO0lBQ2hDLElBQUksRUFBRSxPQUFDO1NBQ0osTUFBTSxFQUFFO1NBQ1IsSUFBSSxFQUFFO1NBQ04sR0FBRyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUM7U0FDbkIsR0FBRyxDQUFDLEVBQUUsRUFBRSxpQkFBaUIsQ0FBQztJQUM3QixJQUFJLEVBQUUsT0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsRUFBRTtRQUN0RCxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsQ0FBQztLQUM1QyxDQUFDO0lBQ0YsS0FBSyxFQUFFLE9BQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLGlCQUFpQixDQUFDLENBQUMsUUFBUSxFQUFFO0lBQzlELE1BQU0sRUFBRSxPQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxTQUFTLENBQUMsRUFBRTtRQUM1QyxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQztLQUMxQyxDQUFDO0lBQ0YsR0FBRyxFQUFFLE9BQUM7U0FDSCxNQUFNLEVBQUU7U0FDUixHQUFHLEVBQUU7U0FDTCxHQUFHLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQztTQUNqQixHQUFHLENBQUMsRUFBRSxFQUFFLGFBQWEsQ0FBQztTQUN0QixRQUFRLEVBQUU7SUFDYixLQUFLLEVBQUUsT0FB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YUFBYSxDQUFDO0NBQ3pELENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXFVzZXJcXERlc2t0b3BcXHRyYWVwcm9qZWN0XFx0ZXN0MlxccGV0LWZpbmRlci1hcHBcXGJhY2tlbmRcXHNyY1xcc2NoZW1hc1xccGV0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBlbWFpbFNjaGVtYSwgbmFtZVNjaGVtYSB9IGZyb20gXCIuL2F1dGhcIjtcblxuLy8g5a+154mp55u46Zec6amX6K2J5p625qeLXG5leHBvcnQgY29uc3QgcGV0U2NoZW1hID0gei5vYmplY3Qoe1xuICBuYW1lOiB6XG4gICAgLnN0cmluZygpXG4gICAgLnRyaW0oKVxuICAgIC5taW4oMSwgXCLlr7XnianlkI3nqLHngrrlv4XloavpoIXnm65cIilcbiAgICAubWF4KDUwLCBcIuWvteeJqeWQjeeoseS4jeiDvei2hemBjiA1MCDlgIvlrZfnrKZcIiksXG4gIHR5cGU6IHouZW51bShbXCJkb2dcIiwgXCJjYXRcIiwgXCJiaXJkXCIsIFwicmFiYml0XCIsIFwib3RoZXJcIl0sIHtcbiAgICBlcnJvck1hcDogKCkgPT4gKHsgbWVzc2FnZTogXCLoq4vpgbjmk4fmnInmlYjnmoTlr7XnianpoZ7lnotcIiB9KSxcbiAgfSksXG4gIGJyZWVkOiB6LnN0cmluZygpLnRyaW0oKS5tYXgoNTAsIFwi5ZOB56iu5ZCN56ix5LiN6IO96LaF6YGOIDUwIOWAi+Wtl+esplwiKS5vcHRpb25hbCgpLFxuICBnZW5kZXI6IHouZW51bShbXCJtYWxlXCIsIFwiZmVtYWxlXCIsIFwidW5rbm93blwiXSwge1xuICAgIGVycm9yTWFwOiAoKSA9PiAoeyBtZXNzYWdlOiBcIuiri+mBuOaTh+acieaViOeahOaAp+WIpVwiIH0pLFxuICB9KSxcbiAgYWdlOiB6XG4gICAgLm51bWJlcigpXG4gICAgLmludCgpXG4gICAgLm1pbigwLCBcIuW5tOm9oeS4jeiDveeCuuiyoOaVuFwiKVxuICAgIC5tYXgoNTAsIFwi5bm06b2h5LiN6IO96LaF6YGOIDUwIOatslwiKVxuICAgIC5vcHRpb25hbCgpLFxuICBjb2xvcjogei5zdHJpbmcoKS50cmltKCkubWF4KDEwMCwgXCLpoY/oibLmj4/ov7DkuI3og73otoXpgY4gMTAwIOWAi+Wtl+esplwiKS5vcHRpb25hbCgpLFxuICBzaXplOiB6LmVudW0oW1wic21hbGxcIiwgXCJtZWRpdW1cIiwgXCJsYXJnZVwiXSwge1xuICAgIGVycm9yTWFwOiAoKSA9PiAoeyBtZXNzYWdlOiBcIuiri+mBuOaTh+acieaViOeahOmrlOWei1wiIH0pLFxuICB9KSxcbiAgc3RhdHVzOiB6LmVudW0oW1wibG9zdFwiLCBcImZvdW5kXCIsIFwicmV1bml0ZWRcIl0sIHtcbiAgICBlcnJvck1hcDogKCkgPT4gKHsgbWVzc2FnZTogXCLoq4vpgbjmk4fmnInmlYjnmoTni4DmhYtcIiB9KSxcbiAgfSksXG4gIGRlc2NyaXB0aW9uOiB6XG4gICAgLnN0cmluZygpXG4gICAgLnRyaW0oKVxuICAgIC5taW4oMSwgXCLmj4/ov7Dngrrlv4XloavpoIXnm65cIilcbiAgICAubWF4KDEwMDAsIFwi5o+P6L+w5LiN6IO96LaF6YGOIDEwMDAg5YCL5a2X56ymXCIpLFxuICBsYXN0U2VlbkxvY2F0aW9uOiB6XG4gICAgLnN0cmluZygpXG4gICAgLnRyaW0oKVxuICAgIC5taW4oMSwgXCLmnIDlvozlh7rnj77lnLDpu57ngrrlv4XloavpoIXnm65cIilcbiAgICAubWF4KDIwMCwgXCLlnLDpu57mj4/ov7DkuI3og73otoXpgY4gMjAwIOWAi+Wtl+esplwiKSxcbiAgbGFzdFNlZW5EYXRlOiB6LnN0cmluZygpLmRhdGV0aW1lKFwi6KuL5o+Q5L6b5pyJ5pWI55qE5pel5pyf5pmC6ZaT5qC85byPXCIpLFxuICBjb250YWN0SW5mbzogei5vYmplY3Qoe1xuICAgIG5hbWU6IG5hbWVTY2hlbWEsXG4gICAgcGhvbmU6IHouc3RyaW5nKCkucmVnZXgoL15bK10/WzAtOVxcc1xcLSgpXSskLywgXCLoq4vmj5DkvpvmnInmlYjnmoTpm7voqbHomZ/norxcIiksXG4gICAgZW1haWw6IGVtYWlsU2NoZW1hLFxuICB9KSxcbiAgaW1hZ2VzOiB6LmFycmF5KHouc3RyaW5nKCkpLm1heCg1LCBcIuacgOWkmuWPquiDveS4iuWCsyA1IOW8teWclueJh1wiKS5kZWZhdWx0KFtdKSxcbiAgcmV3YXJkOiB6Lm51bWJlcigpLm1pbigwLCBcIueNjuWLtemHkemhjeS4jeiDveeCuuiyoOaVuFwiKS5vcHRpb25hbCgpLFxuICBpc1VyZ2VudDogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gIG1pY3JvY2hpcElkOiB6XG4gICAgLnN0cmluZygpXG4gICAgLnRyaW0oKVxuICAgIC5tYXgoNTAsIFwi5pm254mHIElEIOS4jeiDvei2hemBjiA1MCDlgIvlrZfnrKZcIilcbiAgICAub3B0aW9uYWwoKSxcbiAgdmFjY2luYXRpb25zOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIG1lZGljYWxDb25kaXRpb25zOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIHNwZWNpYWxNYXJrczogelxuICAgIC5zdHJpbmcoKVxuICAgIC50cmltKClcbiAgICAubWF4KDUwMCwgXCLnibnmrormqJnoqJjmj4/ov7DkuI3og73otoXpgY4gNTAwIOWAi+Wtl+esplwiKVxuICAgIC5vcHRpb25hbCgpLFxuICBwZXJzb25hbGl0eTogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxufSk7XG5cbi8vIOWvteeJqeabtOaWsOmpl+itieaetuani1xuZXhwb3J0IGNvbnN0IHBldFVwZGF0ZVNjaGVtYSA9IHBldFNjaGVtYS5wYXJ0aWFsKCkub21pdCh7IHN0YXR1czogdHJ1ZSB9KTtcblxuLy8g5a+154mpIElEIOWPg+aVuOmpl+itieaetuani1xuZXhwb3J0IGNvbnN0IHBldElkUGFyYW1zU2NoZW1hID0gei5vYmplY3Qoe1xuICBpZDogei5zdHJpbmcoKS5yZWdleCgvXlswLTlhLWZBLUZdezI0fSQvLCBcIuiri+aPkOS+m+acieaViOeahOWvteeJqSBJRFwiKSxcbn0pO1xuXG4vLyDpoZ7lnovlsI7lh7pcbmV4cG9ydCB0eXBlIFBldERhdGEgPSB6LmluZmVyPHR5cGVvZiBwZXRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgUGV0VXBkYXRlRGF0YSA9IHouaW5mZXI8dHlwZW9mIHBldFVwZGF0ZVNjaGVtYT47XG5leHBvcnQgdHlwZSBQZXRJZFBhcmFtcyA9IHouaW5mZXI8dHlwZW9mIHBldElkUGFyYW1zU2NoZW1hPjtcbiJdLCJ2ZXJzaW9uIjozfQ==