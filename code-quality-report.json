{
  "timestamp": "2025-07-20T12:56:03.822Z",
  "summary": {
    "totalFiles": 357,
    "totalLines": 87024,
    "averageLines": 244
  },
  "issues": {
    "oversized": [
      {
        "file": "backend\\src\\routes\\notifications.ts",
        "lines": 656
      },
      {
        "file": "backend\\src\\routes\\pets-backup.ts",
        "lines": 728
      },
      {
        "file": "backend\\src\\routes\\users.ts",
        "lines": 685
      },
      {
        "file": "backend\\src\\services\\aiService.ts",
        "lines": 616
      },
      {
        "file": "backend\\src\\services\\notificationService.ts",
        "lines": 764
      },
      {
        "file": "backend\\src\\services\\petSearchService-backup.ts",
        "lines": 670
      },
      {
        "file": "backend\\src\\services\\search\\analytics.ts",
        "lines": 659
      },
      {
        "file": "backend\\src\\services\\smartNotificationService-backup.ts",
        "lines": 752
      },
      {
        "file": "backend\\src\\services\\userService-backup.ts",
        "lines": 693
      },
      {
        "file": "backend\\test\\routes\\admin.test.ts",
        "lines": 753
      },
      {
        "file": "backend\\test\\routes\\matches.test.ts",
        "lines": 684
      },
      {
        "file": "backend\\test\\routes\\notifications.test.ts",
        "lines": 633
      },
      {
        "file": "backend\\test\\routes\\upload.test.ts",
        "lines": 723
      },
      {
        "file": "backend\\test\\services\\matchingService.test.ts",
        "lines": 618
      },
      {
        "file": "frontend\\out\\server\\app\\page.js",
        "lines": 1136
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\next.js",
        "lines": 2383
      },
      {
        "file": "frontend\\out\\static\\chunks\\app\\layout.js",
        "lines": 1267
      },
      {
        "file": "frontend\\out\\static\\chunks\\app\\page.js",
        "lines": 3484
      },
      {
        "file": "frontend\\out\\static\\chunks\\main-app.js",
        "lines": 1804
      },
      {
        "file": "frontend\\out\\static\\chunks\\webpack.js",
        "lines": 1416
      },
      {
        "file": "frontend\\src\\app\\pets\\page.tsx",
        "lines": 689
      },
      {
        "file": "frontend\\src\\app\\pets\\[id]\\page.tsx",
        "lines": 745
      },
      {
        "file": "frontend\\src\\components\\pets\\found-pet-form.tsx",
        "lines": 630
      },
      {
        "file": "frontend\\src\\components\\pets\\pet-form.tsx",
        "lines": 635
      }
    ],
    "warnings": [
      {
        "file": "backend\\src\\routes\\upload.ts",
        "lines": 562
      },
      {
        "file": "backend\\src\\services\\matchingService.ts",
        "lines": 556
      },
      {
        "file": "backend\\test\\routes\\privacy.test.ts",
        "lines": 563
      },
      {
        "file": "backend\\test\\routes\\search.test.ts",
        "lines": 585
      }
    ],
    "todos": [
      {
        "file": "backend\\src\\routes\\auth.ts",
        "count": 1
      },
      {
        "file": "backend\\src\\routes\\pets\\images.ts",
        "count": 2
      },
      {
        "file": "backend\\src\\routes\\pets-backup.ts",
        "count": 1
      },
      {
        "file": "backend\\src\\services\\matchingService.ts",
        "count": 2
      },
      {
        "file": "backend\\src\\services\\notifications\\geofence.ts",
        "count": 1
      },
      {
        "file": "backend\\src\\services\\smartNotificationService-backup.ts",
        "count": 1
      },
      {
        "file": "backend\\src\\services\\userService-backup.ts",
        "count": 1
      },
      {
        "file": "frontend\\out\\server\\app\\page.js",
        "count": 1
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\@firebase.js",
        "count": 9
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\date-fns.js",
        "count": 1
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\next.js",
        "count": 38
      },
      {
        "file": "frontend\\out\\static\\chunks\\app\\layout.js",
        "count": 15
      },
      {
        "file": "frontend\\out\\static\\chunks\\app\\page.js",
        "count": 20
      },
      {
        "file": "frontend\\out\\static\\chunks\\app-pages-internals.js",
        "count": 5
      },
      {
        "file": "frontend\\out\\static\\chunks\\main-app.js",
        "count": 331
      },
      {
        "file": "frontend\\src\\app\\sightings\\new\\page.tsx",
        "count": 1
      },
      {
        "file": "frontend\\src\\components\\sections\\hero.tsx",
        "count": 1
      },
      {
        "file": "scripts\\auto-refactor.js",
        "count": 4
      },
      {
        "file": "scripts\\code-quality-check.js",
        "count": 1
      }
    ],
    "fixmes": [],
    "complex": [
      {
        "file": "frontend\\out\\server\\app\\page.js",
        "reason": "過多函數 (134)",
        "metrics": {
          "functions": 134,
          "classes": 4,
          "interfaces": 0,
          "imports": 6,
          "exports": 285,
          "todos": 1,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\@firebase.js",
        "reason": "過多函數 (288)",
        "metrics": {
          "functions": 288,
          "classes": 21,
          "interfaces": 2,
          "imports": 5,
          "exports": 134,
          "todos": 9,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\@floating-ui.js",
        "reason": "過多函數 (182)",
        "metrics": {
          "functions": 182,
          "classes": 0,
          "interfaces": 1,
          "imports": 3,
          "exports": 103,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\@radix-ui.js",
        "reason": "過多函數 (218)",
        "metrics": {
          "functions": 218,
          "classes": 1,
          "interfaces": 0,
          "imports": 6,
          "exports": 274,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\@tanstack.js",
        "reason": "過多函數 (94)",
        "metrics": {
          "functions": 94,
          "classes": 9,
          "interfaces": 0,
          "imports": 2,
          "exports": 117,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\date-fns.js",
        "reason": "過多函數 (55)",
        "metrics": {
          "functions": 55,
          "classes": 0,
          "interfaces": 0,
          "imports": 1,
          "exports": 116,
          "todos": 1,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\engine.io-client.js",
        "reason": "過多函數 (123)",
        "metrics": {
          "functions": 123,
          "classes": 35,
          "interfaces": 4,
          "imports": 2,
          "exports": 113,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\idb.js",
        "reason": "過多函數 (24)",
        "metrics": {
          "functions": 24,
          "classes": 0,
          "interfaces": 0,
          "imports": 0,
          "exports": 15,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\lucide-react.js",
        "reason": "過多函數 (37)",
        "metrics": {
          "functions": 37,
          "classes": 0,
          "interfaces": 0,
          "imports": 0,
          "exports": 112,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\next.js",
        "reason": "過多函數 (860)",
        "metrics": {
          "functions": 860,
          "classes": 50,
          "interfaces": 0,
          "imports": 5,
          "exports": 33,
          "todos": 38,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\socket.io-client.js",
        "reason": "過多函數 (39)",
        "metrics": {
          "functions": 39,
          "classes": 3,
          "interfaces": 0,
          "imports": 2,
          "exports": 38,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\socket.io-parser.js",
        "reason": "過多函數 (34)",
        "metrics": {
          "functions": 34,
          "classes": 3,
          "interfaces": 0,
          "imports": 2,
          "exports": 14,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\tailwind-merge.js",
        "reason": "過多函數 (62)",
        "metrics": {
          "functions": 62,
          "classes": 2,
          "interfaces": 0,
          "imports": 0,
          "exports": 10,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\server\\vendor-chunks\\tslib.js",
        "reason": "過多函數 (52)",
        "metrics": {
          "functions": 52,
          "classes": 2,
          "interfaces": 0,
          "imports": 0,
          "exports": 36,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\static\\chunks\\app\\layout.js",
        "reason": "過多函數 (830)",
        "metrics": {
          "functions": 830,
          "classes": 83,
          "interfaces": 5,
          "imports": 20,
          "exports": 725,
          "todos": 15,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\static\\chunks\\app\\page.js",
        "reason": "過多函數 (1476)",
        "metrics": {
          "functions": 1476,
          "classes": 137,
          "interfaces": 7,
          "imports": 29,
          "exports": 1286,
          "todos": 20,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\static\\chunks\\app-pages-internals.js",
        "reason": "過多函數 (27)",
        "metrics": {
          "functions": 27,
          "classes": 11,
          "interfaces": 0,
          "imports": 0,
          "exports": 0,
          "todos": 5,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\static\\chunks\\main-app.js",
        "reason": "過多函數 (2202)",
        "metrics": {
          "functions": 2202,
          "classes": 172,
          "interfaces": 15,
          "imports": 6,
          "exports": 31,
          "todos": 331,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\static\\chunks\\polyfills.js",
        "reason": "過多函數 (23)",
        "metrics": {
          "functions": 23,
          "classes": 0,
          "interfaces": 0,
          "imports": 0,
          "exports": 0,
          "todos": 0,
          "fixmes": 0
        }
      },
      {
        "file": "frontend\\out\\static\\chunks\\webpack.js",
        "reason": "過多函數 (22)",
        "metrics": {
          "functions": 22,
          "classes": 0,
          "interfaces": 0,
          "imports": 0,
          "exports": 1,
          "todos": 0,
          "fixmes": 0
        }
      }
    ]
  },
  "recommendations": [
    {
      "priority": "high",
      "type": "refactor",
      "description": "立即重構超過 600 行的文件",
      "files": [
        "backend\\src\\routes\\notifications.ts",
        "backend\\src\\routes\\pets-backup.ts",
        "backend\\src\\routes\\users.ts",
        "backend\\src\\services\\aiService.ts",
        "backend\\src\\services\\notificationService.ts",
        "backend\\src\\services\\petSearchService-backup.ts",
        "backend\\src\\services\\search\\analytics.ts",
        "backend\\src\\services\\smartNotificationService-backup.ts",
        "backend\\src\\services\\userService-backup.ts",
        "backend\\test\\routes\\admin.test.ts",
        "backend\\test\\routes\\matches.test.ts",
        "backend\\test\\routes\\notifications.test.ts",
        "backend\\test\\routes\\upload.test.ts",
        "backend\\test\\services\\matchingService.test.ts",
        "frontend\\out\\server\\app\\page.js",
        "frontend\\out\\server\\vendor-chunks\\next.js",
        "frontend\\out\\static\\chunks\\app\\layout.js",
        "frontend\\out\\static\\chunks\\app\\page.js",
        "frontend\\out\\static\\chunks\\main-app.js",
        "frontend\\out\\static\\chunks\\webpack.js",
        "frontend\\src\\app\\pets\\page.tsx",
        "frontend\\src\\app\\pets\\[id]\\page.tsx",
        "frontend\\src\\components\\pets\\found-pet-form.tsx",
        "frontend\\src\\components\\pets\\pet-form.tsx"
      ]
    },
    {
      "priority": "medium",
      "type": "refactor",
      "description": "考慮重構接近 600 行的文件",
      "files": [
        "backend\\src\\routes\\upload.ts",
        "backend\\src\\services\\matchingService.ts",
        "backend\\test\\routes\\privacy.test.ts",
        "backend\\test\\routes\\search.test.ts"
      ]
    },
    {
      "priority": "medium",
      "type": "simplify",
      "description": "簡化複雜的文件結構",
      "files": [
        "frontend\\out\\server\\app\\page.js",
        "frontend\\out\\server\\vendor-chunks\\@firebase.js",
        "frontend\\out\\server\\vendor-chunks\\@floating-ui.js",
        "frontend\\out\\server\\vendor-chunks\\@radix-ui.js",
        "frontend\\out\\server\\vendor-chunks\\@tanstack.js",
        "frontend\\out\\server\\vendor-chunks\\date-fns.js",
        "frontend\\out\\server\\vendor-chunks\\engine.io-client.js",
        "frontend\\out\\server\\vendor-chunks\\idb.js",
        "frontend\\out\\server\\vendor-chunks\\lucide-react.js",
        "frontend\\out\\server\\vendor-chunks\\next.js",
        "frontend\\out\\server\\vendor-chunks\\socket.io-client.js",
        "frontend\\out\\server\\vendor-chunks\\socket.io-parser.js",
        "frontend\\out\\server\\vendor-chunks\\tailwind-merge.js",
        "frontend\\out\\server\\vendor-chunks\\tslib.js",
        "frontend\\out\\static\\chunks\\app\\layout.js",
        "frontend\\out\\static\\chunks\\app\\page.js",
        "frontend\\out\\static\\chunks\\app-pages-internals.js",
        "frontend\\out\\static\\chunks\\main-app.js",
        "frontend\\out\\static\\chunks\\polyfills.js",
        "frontend\\out\\static\\chunks\\webpack.js"
      ]
    }
  ]
}