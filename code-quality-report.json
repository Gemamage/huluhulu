{
  "timestamp": "2025-07-20T09:59:39.321Z",
  "summary": {
    "totalFiles": 337,
    "totalLines": 82160,
    "averageLines": 244
  },
  "issues": {
    "oversized": [
      {
        "file": "backend\\src\\routes\\community-backup.ts",
        "lines": 1193
      },
      {
        "file": "backend\\src\\routes\\notifications.ts",
        "lines": 656
      },
      {
        "file": "backend\\src\\routes\\pets-backup.ts",
        "lines": 795
      },
      {
        "file": "backend\\src\\routes\\users.ts",
        "lines": 685
      },
      {
        "file": "backend\\src\\services\\aiService.ts",
        "lines": 616
      },
      {
        "file": "backend\\src\\services\\notificationService.ts",
        "lines": 764
      },
      {
        "file": "backend\\src\\services\\petSearchService-backup.ts",
        "lines": 699
      },
      {
        "file": "backend\\src\\services\\reportService.ts",
        "lines": 707
      },
      {
        "file": "backend\\src\\services\\search\\analytics.ts",
        "lines": 665
      },
      {
        "file": "backend\\src\\services\\smartNotificationService-backup.ts",
        "lines": 783
      },
      {
        "file": "backend\\src\\services\\userService-backup.ts",
        "lines": 732
      },
      {
        "file": "backend\\test\\routes\\admin.test.ts",
        "lines": 753
      },
      {
        "file": "backend\\test\\routes\\matches.test.ts",
        "lines": 684
      },
      {
        "file": "backend\\test\\routes\\notifications.test.ts",
        "lines": 633
      },
      {
        "file": "backend\\test\\routes\\upload.test.ts",
        "lines": 723
      },
      {
        "file": "backend\\test\\services\\matchingService.test.ts",
        "lines": 618
      },
      {
        "file": "frontend\\src\\app\\pets\\page.tsx",
        "lines": 689
      },
      {
        "file": "frontend\\src\\app\\pets\\[id]\\page.tsx",
        "lines": 745
      },
      {
        "file": "frontend\\src\\components\\community\\CommentSection.tsx",
        "lines": 685
      },
      {
        "file": "frontend\\src\\components\\community\\MessageCenter.tsx",
        "lines": 747
      },
      {
        "file": "frontend\\src\\components\\community\\ReportCenter.tsx",
        "lines": 972
      },
      {
        "file": "frontend\\src\\components\\community\\ReviewSection.tsx",
        "lines": 655
      },
      {
        "file": "frontend\\src\\components\\pets\\found-pet-form.tsx",
        "lines": 630
      },
      {
        "file": "frontend\\src\\components\\pets\\pet-form.tsx",
        "lines": 635
      }
    ],
    "warnings": [
      {
        "file": "backend\\src\\routes\\upload.ts",
        "lines": 562
      },
      {
        "file": "backend\\src\\services\\matchingService.ts",
        "lines": 556
      },
      {
        "file": "backend\\test\\routes\\privacy.test.ts",
        "lines": 563
      },
      {
        "file": "backend\\test\\routes\\search.test.ts",
        "lines": 585
      }
    ],
    "todos": [
      {
        "file": "backend\\src\\routes\\auth.ts",
        "count": 1
      },
      {
        "file": "backend\\src\\routes\\pets\\images.ts",
        "count": 2
      },
      {
        "file": "backend\\src\\routes\\pets-backup.ts",
        "count": 1
      },
      {
        "file": "backend\\src\\services\\matchingService.ts",
        "count": 2
      },
      {
        "file": "backend\\src\\services\\notifications\\geofence.ts",
        "count": 1
      },
      {
        "file": "backend\\src\\services\\smartNotificationService-backup.ts",
        "count": 1
      },
      {
        "file": "backend\\src\\services\\userService-backup.ts",
        "count": 1
      },
      {
        "file": "frontend\\src\\app\\sightings\\new\\page.tsx",
        "count": 1
      },
      {
        "file": "frontend\\src\\components\\sections\\hero.tsx",
        "count": 1
      },
      {
        "file": "scripts\\auto-refactor.js",
        "count": 4
      },
      {
        "file": "scripts\\code-quality-check.js",
        "count": 1
      }
    ],
    "fixmes": [],
    "complex": [
      {
        "file": "frontend\\out\\static\\chunks\\polyfills.js",
        "reason": "過多函數 (23)",
        "metrics": {
          "functions": 23,
          "classes": 0,
          "interfaces": 0,
          "imports": 0,
          "exports": 0,
          "todos": 0,
          "fixmes": 0
        }
      }
    ]
  },
  "recommendations": [
    {
      "priority": "high",
      "type": "refactor",
      "description": "立即重構超過 600 行的文件",
      "files": [
        "backend\\src\\routes\\community-backup.ts",
        "backend\\src\\routes\\notifications.ts",
        "backend\\src\\routes\\pets-backup.ts",
        "backend\\src\\routes\\users.ts",
        "backend\\src\\services\\aiService.ts",
        "backend\\src\\services\\notificationService.ts",
        "backend\\src\\services\\petSearchService-backup.ts",
        "backend\\src\\services\\reportService.ts",
        "backend\\src\\services\\search\\analytics.ts",
        "backend\\src\\services\\smartNotificationService-backup.ts",
        "backend\\src\\services\\userService-backup.ts",
        "backend\\test\\routes\\admin.test.ts",
        "backend\\test\\routes\\matches.test.ts",
        "backend\\test\\routes\\notifications.test.ts",
        "backend\\test\\routes\\upload.test.ts",
        "backend\\test\\services\\matchingService.test.ts",
        "frontend\\src\\app\\pets\\page.tsx",
        "frontend\\src\\app\\pets\\[id]\\page.tsx",
        "frontend\\src\\components\\community\\CommentSection.tsx",
        "frontend\\src\\components\\community\\MessageCenter.tsx",
        "frontend\\src\\components\\community\\ReportCenter.tsx",
        "frontend\\src\\components\\community\\ReviewSection.tsx",
        "frontend\\src\\components\\pets\\found-pet-form.tsx",
        "frontend\\src\\components\\pets\\pet-form.tsx"
      ]
    },
    {
      "priority": "medium",
      "type": "refactor",
      "description": "考慮重構接近 600 行的文件",
      "files": [
        "backend\\src\\routes\\upload.ts",
        "backend\\src\\services\\matchingService.ts",
        "backend\\test\\routes\\privacy.test.ts",
        "backend\\test\\routes\\search.test.ts"
      ]
    },
    {
      "priority": "medium",
      "type": "simplify",
      "description": "簡化複雜的文件結構",
      "files": [
        "frontend\\out\\static\\chunks\\polyfills.js"
      ]
    }
  ]
}