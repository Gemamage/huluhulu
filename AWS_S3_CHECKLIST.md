# AWS S3 配置檢查清單 ✅

在設定 AWS S3 之前，請按照此清單逐項檢查：

## 📋 前置準備

- [ ] 已有 AWS 帳號（如果沒有，請先註冊）
- [ ] 已準備信用卡進行帳號驗證
- [ ] 已了解 AWS 免費方案額度

## 🪣 S3 儲存桶設定

- [ ] 已創建 S3 儲存桶
- [ ] 儲存桶名稱已記錄：`_________________`
- [ ] 儲存桶區域設為：`ap-northeast-1` (東京)
- [ ] 已取消勾選「封鎖所有公有存取」
- [ ] 已設定儲存桶政策允許公開讀取

## 🔐 IAM 使用者設定

- [ ] 已創建 IAM 使用者：`pet-finder-s3-user`
- [ ] 已附加 `AmazonS3FullAccess` 政策
- [ ] 已生成存取金鑰
- [ ] 存取金鑰 ID 已記錄：`_________________`
- [ ] 秘密存取金鑰已記錄：`_________________`

## ⚙️ 環境變數設定

- [ ] 已複製 `.env.example` 為 `.env`
- [ ] 已填入 `AWS_ACCESS_KEY_ID`
- [ ] 已填入 `AWS_SECRET_ACCESS_KEY`
- [ ] 已設定 `AWS_REGION=ap-northeast-1`
- [ ] 已設定 `AWS_S3_BUCKET=您的儲存桶名稱`

## 🧪 測試驗證

- [ ] 執行 `npm run test:s3` 測試連線
- [ ] 所有測試項目都通過
- [ ] 重新啟動後端服務器
- [ ] 測試照片上傳功能

## 🔒 安全檢查

- [ ] 確認 `.env` 檔案已加入 `.gitignore`
- [ ] 確認沒有將 AWS 憑證提交到版本控制
- [ ] 已設定適當的儲存桶政策（僅允許必要的存取）

## 💰 費用監控

- [ ] 已設定 AWS 帳單警報
- [ ] 已了解 S3 收費方式
- [ ] 已考慮設定生命週期政策自動清理舊檔案

---

## 🚀 快速設定命令

```bash
# 1. 複製環境變數範例檔案
cp .env.example .env

# 2. 編輯 .env 檔案，填入您的 AWS 憑證
# 使用您喜歡的編輯器開啟 .env

# 3. 測試 S3 連線
npm run test:s3

# 4. 重新啟動後端服務器
npm run dev
```

## ❗ 常見問題快速解決

| 錯誤訊息 | 可能原因 | 解決方案 |
|---------|---------|----------|
| `InvalidAccessKeyId` | 存取金鑰 ID 錯誤 | 重新檢查並更新 `AWS_ACCESS_KEY_ID` |
| `SignatureDoesNotMatch` | 秘密金鑰錯誤 | 重新檢查並更新 `AWS_SECRET_ACCESS_KEY` |
| `NoSuchBucket` | 儲存桶不存在或名稱錯誤 | 檢查 `AWS_S3_BUCKET` 設定 |
| `AccessDenied` | 權限不足 | 檢查 IAM 使用者權限和儲存桶政策 |
| `NetworkingError` | 網路連線問題 | 檢查網路連線和防火牆設定 |

## 📞 需要協助？

如果遇到問題：
1. 📖 查看 `AWS_S3_SETUP_GUIDE.md` 詳細設定指南
2. 🧪 執行 `npm run test:s3` 診斷問題
3. 📋 檢查此清單是否有遺漏的步驟
4. 🔍 查看後端服務器日誌

---

**完成所有項目後，您的照片上傳功能就可以正常運作了！** 🎉